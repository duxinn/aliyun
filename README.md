# aliyun 阿里云相关

这个文件夹下主要存储和阿里云实例相关的代码

inst_save_sql  对于阿里云的云服务器、云数据库等实例，通过阿里云提供的接口获取最近10分钟的监控数据，在网页上实时展示。

    监控实例：云服务器ECS、云数据库rds、mongodb、mongo节点、负载均衡slb
    监控指标：
            ECS：CPU使用率、内存使用率、磁盘使用率、每秒流入流量、每秒流出流量
            RDS：CPU使用率、内存使用率、磁盘使用率、IOPS使用率、连接数使用率、活跃连接数、每秒流入流量、每秒流出流量
            MongoDB，包括集群监控和节点（路由和分片）监控： cpu使用率、内存适使用率、磁盘使用率、iops使用量、iops使用率、连接数、每秒流入流量、每秒流出流量
            SLB，包括实例监控和端口监控：每秒流入\流出数据量、每秒入\出包数、活跃\非活跃连接数、端口并发连接数、新建连接数、每秒丢失入\出流量、每秒丢失入\丢出包数、每秒丢失连接数
    
    说明：由于阿里云接口存在免费调用次数，为了节省调用次数，云服务器通过zabbix监控，数据从zabbix数据库采集
    
    网页展示：
            见图片  grafana_mongodb  granfa_rds  grafana_主机监控


aliyun_monitor_week 将数据库中实例的各监控指标查出来，做成气泡图、柱状图，以邮件的形式每周发送。

    展示：
        见图片  aliyun_monitor_week_0  aliyun_monitor_week_1
          

bandwidth_monitor  负载均衡带宽自动调节程序，根据出口流量，将带宽调节为110，监测异常时调为最大。



